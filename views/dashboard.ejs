<%- include('partials/header', { title: 'Dashboard', user: user }) %>

<style>
  .tableau-container {
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    margin-bottom: 40px;
  }

  .tableauPlaceholder {
    width: 100%;
    max-width: 100%;
    position: relative;
  }

  .tableauViz {
    width: 100% !important;
    max-width: 100% !important;
  }

  @media (max-width: 768px) {
    .tableau-container {
      padding: 15px;
    }
  }
</style>

<div class="page-header">
  <div class="container">
    <h1><i class="bi bi-speedometer2"></i> Dashboard</h1>
    <p>Welcome back, <%= user.username %>! Here's your overview.</p>
  </div>
</div>

<div class="container">
  <div class="row justify-content-center mt-4">
    <div class="col-12">
      <div class="tableau-container">
        <div
          class="tableauPlaceholder"
          id="viz1764803502574"
          style="position: relative; margin: 0 auto; display: flex; justify-content: center;"
        >
  <noscript
    ><a href="#"
      ><img
        alt="EllaRises "
        src="https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;El&#47;EllaRisesDashboard_17648034958960&#47;EllaRises&#47;1_rss.png"
        style="border: none" /></a></noscript
  ><object class="tableauViz" style="display: none">
    <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
    <param name="embed_code_version" value="3" />
    <param name="site_root" value="" />
    <param
      name="name"
      value="EllaRisesDashboard_17648034958960&#47;EllaRises"
    />
    <param name="tabs" value="no" />
    <param name="toolbar" value="yes" />
    <param
      name="static_image"
      value="https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;El&#47;EllaRisesDashboard_17648034958960&#47;EllaRises&#47;1.png"
    />
    <param name="animate_transition" value="yes" />
    <param name="display_static_image" value="yes" />
    <param name="display_spinner" value="yes" />
    <param name="display_overlay" value="yes" />
    <param name="display_count" value="yes" />
    <param name="language" value="en-US" />
    <param name="filter" value="publish=yes" />
  </object>
</div>
<script type="text/javascript">
  var divElement = document.getElementById("viz1764803502574");
  var vizElement = divElement.getElementsByTagName("object")[0];

  // Make it fully responsive
  vizElement.style.width = "100%";

  if (divElement.offsetWidth > 800) {
    vizElement.style.height = "800px";
  } else if (divElement.offsetWidth > 500) {
    vizElement.style.height = "700px";
  } else {
    vizElement.style.height = "600px";
  }

  var scriptElement = document.createElement("script");
  scriptElement.src = "https://public.tableau.com/javascripts/api/viz_v1.js";
  vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer-scripts') %>
